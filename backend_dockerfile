FROM python:3.10.6-slim-buster

WORKDIR /app
COPY backend/. .

RUN pip3 install --upgrade pip
RUN pip install -r requirements.txt
RUN pip install -U pip setuptools wheel
RUN pip install -U spacy
RUN python -m spacy download en_core_web_sm

RUN dos2unix /app/crontable.txt

EXPOSE 5001

CMD ["python", "flask-backend.py"]
